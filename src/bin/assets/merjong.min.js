"use strict";(()=>{var l=class{tileDesigns;isDarkMode;backgroundColor;tileWidth;tileHeight;tileGap;spaceWidth;constructor(){this.tileDesigns={base:"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Front.svg",q:"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Blank.svg",x:"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Back.svg","0m":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Man5-Dora.svg","1m":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Man1.svg","2m":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Man2.svg","3m":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Man3.svg","4m":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Man4.svg","5m":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Man5.svg","6m":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Man6.svg","7m":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Man7.svg","8m":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Man8.svg","9m":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Man9.svg","0p":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Pin5-Dora.svg","1p":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Pin1.svg","2p":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Pin2.svg","3p":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Pin3.svg","4p":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Pin4.svg","5p":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Pin5.svg","6p":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Pin6.svg","7p":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Pin7.svg","8p":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Pin8.svg","9p":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Pin9.svg","0s":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Sou5-Dora.svg","1s":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Sou1.svg","2s":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Sou2.svg","3s":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Sou3.svg","4s":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Sou4.svg","5s":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Sou5.svg","6s":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Sou6.svg","7s":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Sou7.svg","8s":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Sou8.svg","9s":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Sou9.svg","1z":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Ton.svg","2z":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Nan.svg","3z":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Shaa.svg","4z":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Pei.svg","5z":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Haku.svg","6z":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Hatsu.svg","7z":"https://raw.githubusercontent.com/FluffyStuff/riichi-mahjong-tiles/26e127ba2117f45cdce5ea0225748cc0cfad3169/Regular/Chun.svg"},this.backgroundColor="green",this.isDarkMode=!1,this.tileWidth=36,this.tileHeight=48,this.tileGap=3,this.spaceWidth=10}},h=()=>new l;var g={default:{getThemeVariables:h}};var p=f=>{let e=[],c=[],s=[];for(let a=0;a<f.length;a++){let t=f[a];if(/[0-9XQ]/.test(t))c.push(t);else if(t==="'"||t==='"'){let o=c.pop();c.push((o||"Q")+t)}else if(/[mpszqx]/.test(t)){if(c.length===0){e.push({type:"tile",tileKey:t==="x"?"x":"q",tileOrient:"upright"});continue}for(let o=0;o<c.length;o++){let n=c[o],u=n[0],r=n.slice(1),i="";u==="X"||u==="Q"?i=u.toLowerCase():t==="x"||t==="q"?i=t:i=`${u}${t}`.toLowerCase(),r?r==="'"?e.push({type:"tile",tileKey:i,tileOrient:"sideways"}):r==="''"?e.push({type:"tile",tileKey:i,tileOrient:"sidewaysTop"}):r==='"'?(e.push({type:"tile",tileKey:i,tileOrient:"sideways"}),e.push({type:"tile",tileKey:i,tileOrient:"sidewaysTop"})):e.push({type:"tile",tileKey:i,tileOrient:"upright"}):e.push({type:"tile",tileKey:i,tileOrient:"upright"})}c.length=0}else t==="-"&&e.push({type:"space"})}return e},b=f=>{let e=g.default.getThemeVariables(),c=e.tileDesigns,s=e.tileWidth,a=e.tileHeight,t=e.tileGap,o=e.spaceWidth,n=Math.max(a,s*2+t),u="",r=0;for(let i of f)i.type==="tile"&&i.tileOrient==="upright"?(u+=`<image href="${c.base}" x="${r}" y="${n-a}" width="${s}" height="${a}" /><image href="${c[i.tileKey]}" x="${r}" y="${n-a}" width="${s}" height="${a}" />`,r+=s+t):i.type==="tile"&&i.tileOrient==="sideways"?(u+=`<image href="${c.base}" x="${-n}" y="${r}" width="${s}" height="${a}" transform="rotate(-90)" /><image href="${c[i.tileKey]}" x="${-n}" y="${r}" width="${s}" height="${a}" transform="rotate(-90)" />`,r+=a+t):i.type==="tile"&&i.tileOrient==="sidewaysTop"?u+=`<image href="${c.base}" x="${s-n+t}" y="${r-a-t}" width="${s}" height="${a}" transform="rotate(-90)" /><image href="${c[i.tileKey]}" x="${s-n+t}" y="${r-a-t}" width="${s}" height="${a}" transform="rotate(-90)" />`:r+=Math.max(o);return`<div style="background-color: green; padding: 0.375rem; border-radius: 6px;"><svg width="100%" height="${n}" style="display: block;">${u}</svg></div>`},y=f=>{let e=p(f);return b(e)},d=Object.freeze({render:y});var w=()=>{m.run()};typeof document<"u"&&window.addEventListener("load",w,!1);var S=async({querySelector:f=".merjong",nodes:e}={})=>{let c;if(e)c=e;else if(f)c=document.querySelectorAll(f);else throw new Error("Nodes and querySelector are both undefined");for(let s of Array.from(c)){if(s.dataset.processed)continue;let a=s.innerHTML.trim();s.innerHTML=await d.render(a),s.dataset.processed="true"}},R=async(f={querySelector:".merjong"})=>{await S(f)},m={run:R},T=m;})();
